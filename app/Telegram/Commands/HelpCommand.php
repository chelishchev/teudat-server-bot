<?php


namespace App\Telegram\Commands;


use App\Models\User;
use App\Models\UserUsage;
use Longman\TelegramBot\Commands\UserCommand;
use Longman\TelegramBot\Entities\ServerResponse;

class HelpCommand extends UserCommand
{
    protected $name = 'help';
    protected $description = '';
    protected $usage = '/help';
    protected $version = '1.0.0';

    public function execute(): ServerResponse
    {
        $message = $this->getMessage();
        /** @var User $user */
        $user = User::findByMessage($message);
        if ($user) {
            UserUsage::track($user->id, $this->getName());
        }


        return $this->replyToChat(
            $this->getHelpMessage(),
            [
                'parse_mode' => 'MarkdownV2',
                'disable_web_page_preview' => true,
            ]
        );
    }

    protected function getHelpMessage(): string
    {
        return <<<MARKDOWN
ÐšÐ°Ðº Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð¼:\n
1\. Ð”Ð»Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° Ð² Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼\-Ð±Ð¾Ñ‚Ðµ *MyVisit Rega Bot* Ð½ÑƒÐ¶Ð½Ð¾ Ð²Ð²ÐµÑÑ‚Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‚ÑÑ Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°\. Ð”Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ /fill\. Ð•ÑÐ»Ð¸ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÐ²Ð¾Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ, Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ /erase\n
2\. Ð—Ð°Ñ‚ÐµÐ¼ Ð½ÑƒÐ¶Ð½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ðµ [MyVisit Rega Helper](https://chrome.google.com/webstore/detail/myvisit-rega-helper/ookhbjeobapamalmbabaipkobeedjbag)\.\n
3\. Ð”Ð°Ð»ÐµÐµ Ð½Ð° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ñ *MyVisit Rega Helper* Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð²Ð²ÐµÑÑ‚Ð¸ Ð²Ð°Ñˆ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ¾Ð´ Ð¸ Ð½Ð°Ð¶Ð°Ñ‚ÑŒ ÐºÐ½Ð¾Ð¿ÐºÑƒ "Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ"\.\n
ÐÐ° ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ðµ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð·ÑÑ‚ÑÑ Ð²Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ â€“ Ð˜Ð¼Ñ, Ð½Ð¾Ð¼ÐµÑ€ Ð¢Ð— Ð¸ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°\.\n
4\. ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° ÑÐ°Ð¹Ñ‚ [myVisit](https://piba.myvisit.com/#!/home/provider/56), Ð²Ð²ÐµÑÑ‚Ð¸ ÐºÐ°Ð¿Ñ‡Ñƒ Ð¸ Ð½Ð°Ð¶Ð°Ñ‚ÑŒ ÐºÐ½Ð¾Ð¿ÐºÑƒ "ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ"\.\n
5\. ÐÐ° Ð²Ð°Ñˆ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð° Ð¿Ñ€Ð¸Ð´ÐµÑ‚ ÑÐ¼Ñ Ñ ÐºÐ¾Ð´Ð¾Ð¼, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð½ÑƒÐ¶Ð½Ð¾ Ð²Ð²ÐµÑÑ‚Ð¸ Ð½Ð° ÑÐ°Ð¹Ñ‚Ðµ [myVisit](https://piba.myvisit.com/#!/home/provider/56) Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸\.\n
6\. ÐŸÐ¾ÑÐ»Ðµ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð²Ñ‹ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿ÐµÑ€ÐµÐ¹Ð´ÐµÑ‚Ðµ Ð² Ñ€Ð°Ð·Ð´ÐµÐ» [Ð”ÐµÐ¿Ð°Ñ€Ñ‚Ð°Ð¼ÐµÐ½Ñ‚ Ð½Ð°Ñ€Ð¾Ð´Ð¾Ð½Ð°ÑÐµÐ»ÐµÐ½Ð¸Ñ Ð¸ Ð¸Ð¼Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸](https://piba.myvisit.com/#!/home/provider/56)\.\n
7\. Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ Ð²Ð°ÑˆÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ \(Ð²Ð²ÐµÐ´ÐµÑ‚ ID Ð¸ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°\)\.\n
8\. ÐÐ° Ñ‚Ñ€ÐµÑ‚ÑŒÐµÐ¼ ÑˆÐ°Ð³Ðµ Ð½Ð°Ñ‡Ð½ÐµÑ‚ÑÑ Ð¿Ð¾Ð¸ÑÐº ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ñ… ÑÐ»Ð¾Ñ‚Ð¾Ð² Ð²Ð¾ Ð²ÑÐµÑ… Ñ…Ð¾Ñ€Ð¾ÑˆÐ¸Ñ… Ð¾Ñ‚Ð´ÐµÐ»ÐµÐ½Ð¸ÑÑ…, Ñ Ð¿Ð°ÑƒÐ·Ð°Ð¼Ð¸ Ð² 3\-4 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹\.\n
9\. Ð•ÑÐ»Ð¸ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ðµ Ð½Ð°Ð¹Ð´ÐµÑ‚ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ñ‹Ð¹ ÑÐ»Ð¾Ñ‚ Ð² Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ¸Ðµ 18 Ð´Ð½ÐµÐ¹, Ð²Ð°Ð¼ Ð¿Ñ€Ð¸Ð´ÐµÑ‚ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð² Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼\-Ð±Ð¾Ñ‚Ðµ *MyVisit Rega Bot*\.\n
10\. Ð¡Ð°Ð¹Ñ‚ [myVisit](https://piba.myvisit.com/#!/home/provider/56), Ðº ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸ÑŽ, Ð¸Ð½Ð¾Ð³Ð´Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ñ‡Ð°ÑÑ‚Ð¸Ñ‡Ð½Ð¾ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½\. Ð’ ÑÑ‚Ð¾Ð¼ ÑÐ»ÑƒÑ‡Ð°Ðµ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸Ðµ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð² Ñ‚ÐµÐ»ÐµÐ³Ñ€Ð°Ð¼\-Ð±Ð¾Ñ‚, Ð¾ Ñ‚Ð¾Ð¼ Ñ‡Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ Ð¿Ð¾Ð´Ð¾Ð¶Ð´Ð°Ñ‚ÑŒ ðŸ˜¥\.\n
11\. ÐšÐ¾Ð½ÐµÑ‡Ð½Ð¾, ÐºÐ¾Ð³Ð´Ð° Ð²Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ð¼ ÑÐ»Ð¾Ñ‚Ðµ, Ð±ÑƒÐ´ÑŒÑ‚Ðµ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ ÑˆÑƒÑÑ‚Ñ€Ñ‹, Ð¼Ñ‹ Ð² Ð²Ð°Ñ Ð²ÐµÑ€Ð¸Ð¼\! ðŸ’ª\n
12\. ÐŸÐ¾ÑÐ»Ðµ Ñ‚Ð¾Ð³Ð¾ ÐºÐ°Ðº Ð·Ð°Ð¿Ð¸ÑˆÐ¸Ñ‚ÐµÑÑŒ, [Ð¾Ñ‚Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð¸Ñ‚Ðµ Ð½Ð°Ñ Ð·Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚ â¤ï¸ï¸ Ñ‚ÑƒÑ‚](https://ko-fi.com/myvisit)\.

ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ /fill Ð¸ Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¾ ÑÐµÐ±Ðµ Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÐºÐ¾Ð´Ð° Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð°\n
MARKDOWN;
    }
}
